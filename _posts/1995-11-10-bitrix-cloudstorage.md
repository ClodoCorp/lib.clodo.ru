---
layout: article
title: "Подключение в 1С-Битрикс"
description: "Подключение облачного хранилища в CMS 1С-Битрикс"
category: Облачное хранилище 
---



* Содержание
{:toc}



В 11 версии CMS “1С-Битрикс” появился модуль “Облачные хранилища”, который позволяет загружать статичные файлы (изображения, pdf и пр.) с сайта в облачные хранилища данных и затем автоматически предоставлять ссылку для скачивания или просмотра этих файлов посетителям вашего сайта, или встраивать их непосредственно в сайт. 

В результате использования облачных хранилищ

- “Тяжелые” элементы сайта - например, большие картинки, начнут загружаться быстрее - клиентам будет приятнее работать с сайтом, повысится их лояльность и число заказов;
- Статические данные будут надежно защищены от потери многократным резервированием;
- Освободится место на сервере, на котором запущен “1С-Битрикс” - вам не придется думать о смене тарифа только из-за того, что сайт стал больше;
- Снизится нагрузка на текущий сервер, поскольку он не будет заниматься раздачей статических файлов;
- Переезд с хостинга на хостинг станет сильно проще: не потребуется переносить большое количество файлов.

Все это доступно без смены хостинга: неважно, на каком хостинге расположен сайт - статические  файлы можно перенести в облачное хранилище с минимумом трудозатрат. **Чтобы использовать облачное хранилище Clodo с “Битриксом” совершенно необязательно использовать Clodo как хостинг для самого “Битрикса”.**

Одним из поддерживаемых хранилищ является Cloud Storage от Clodo.ru. Более подробно об облачном хранилище Clodo.ru вы можете узнать на сайте [Clodo][1].

Настройка производится всего в несколько простых шагов. При помощи этой пошаговой инструкции Вы сможете произвести ее самостоятельно. И помните - Вы всегда можете обратиться в техническую поддержку Clodo, которая поможет Вам, если что-то пойдет не так.

Настройка состоит из следующих шагов:

- Создание хранилища и привязка к нему поддомена, с которого и будет осуществляться загрузка файлов;
- Добавление хранилища в “1С-Битрикс”;
- Перенос файлов в хранилище.



## Создание хранилища и привязка к нему поддомена

Создание хранилища делается за пару кликов в [панели управления Clodo][2]. Достаточно перейти на вкладку [“Cloud Storage”][3] и нажать на кнопку “Создать хранилище”. 
При создании хранилища можно задать его название (это сделано для вашего собственного ориентирования в хранилищах, если оно не одно). Сразу после создания хранилища будет сообщен ключ к нему - это идентификатор, при помощи которого сторонние приложения (например, “1С-Битрикс”) могут получать доступ к хранилищу. Этот ключ следует записать.

Процедура привязки поддомена несложна: она подробно расписана в нашей другой статье [“Привязка поддомена к Хранилищу”][4].



## Добавление хранилища в 1С-Битрикс

В административной части 1С-Битрикс необходимо открыть раздел “Настройки” -> “Облачные хранилища” и там нажать на кнопку “Добавить”.

![Добавление хранилища в 1С-Битрикс][i1]

При добавлении нового облачного хранилища в 1С-Битрикс вам будет предложено выбрать провайдера услуг. Необходимо выбрать пункт “Clodo.ru”. Если же такого пункта нет, то выбирайте “OpenStack Object Storage”.

![Выбор провайдера услуг][i2]

Далее необходимо скопировать данные для подключения к вашему хранилищу. Эти данные вы можете узнать на странице информации об облачном хранилище в панели управления Clodo.ru.

![Параметры хранилища в панели Clodo.ru][i3]

Пункт “API host” из информации соответствует параметру “Имя сервера” в 1С-Битрикс; “API user” - “Имя пользователя”; “API key” - “Ключ доступа”.

Если вы забыли или потеряли ключ доступа к хранилищу, его всегда можно изменить в панели управления нажав на ссылку “Перегенирировать ключ”. Новый ключ будет сразу же отображен в диалоговом окне в панели управления. Также не забудьте изменить ключ в настройках хранилища в 1С-Битрикс.
{:.tip}

В параметре “Контейнер” необходимо вписать “public”, чтобы ссылки на файлы были более короткие и “красивые”. А в пункт “Каноническое имя домена” необходимо вписать поддомен, который вы привязали к хранилищу (Public access URL).

По умолчанию к каждому хранилищу привязывается технический домен. Вы можете домен, которым вы владеете. Процедура прявязки подробно описана в статье [“Привязка поддомена к Облачному Хранилищу”][4].
{:.tip}

Поля “Активность”, “Сортировка” и “Только для чтения” установите как на скриншоте ниже.

![Настройка параметров хранилища в CMS 1С-Битрикс][i4]

После этого нажмите на кнопку “Сохранить”. 

Хранилище добавлено в “1С-Битрикс”. Если CMS сообщила об ошибке, то следует проверить правильность введённых данных и повторить сохранение параметров.



## Перенос файлов в хранилище

После привязки хранилища новые статические данные, загружаемые на сайт, автоматически будут попадать в хранилище. Имевшиеся до привязки данные автоматически в хранилище не переместятся - однако для большей эффективности использования хранилища, их следует все же переместить. 
 
Нужно выбрать пункт “Переместить файлы в облачное хранилище” в опциях только что привязанного облачного хранилища. Прогресс переноса можно наблюдать на этой же странице (не закрывайте окно браузера до окончания переноса файлов). Процесс переноса может занимать достаточно много времени, поскольку облачное хранилище Clodo оптимизировано прежде всего на раздачу файлов, а не на их закачку.

![Перенос статичных файлов в облачное хранилище в CMS 1С-Битрикс][i4]

После этого все статичные файлы будут автоматически загружаться из облачного хранилища Clodo.ru, а новые загружаемые на сайт файлы, будут автоматически перемещены в хранилище.


  [1]: http://clodo.ru/cloud-storage/ "Облачный хостинг Clodo"
  [2]: https://panel.clodo.ru "Панель управления Clodo.ru"
  [3]: https://panel.clodo.ru/#storage "Панель управления Clodo.ru > CloudStorage"
  [4]: {% post_url 1995-12-10-subdomain_for_cloudstorage %} "Привязка поддомена к Хранилищу"

  [i1]: /images/cloudstorage/bitrix/add-cloudstorage.png
  [i2]: /images/cloudstorage/bitrix/select-provider.png
  [i3]: /images/cloudstorage/bitrix/cs-panel-info.png
  [i4]: /images/cloudstorage/bitrix/bitrix-settings.png
  [i5]: /images/cloudstorage/bitrix/move-to-cs.png
